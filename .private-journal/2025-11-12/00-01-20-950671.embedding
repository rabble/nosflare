{
  "embedding": [
    -0.0782458707690239,
    -0.040058452636003494,
    -0.011690162122249603,
    0.05886638164520264,
    0.05399414896965027,
    -0.024059828370809555,
    0.007737515494227409,
    0.0128379100933671,
    -0.04297027736902237,
    0.061354659497737885,
    -0.03618236631155014,
    0.027417782694101334,
    -0.0002003556292038411,
    0.03915496543049812,
    -0.014039373025298119,
    0.004078722093254328,
    -0.02291906625032425,
    -0.04706249386072159,
    -0.011751697398722172,
    -0.06612145155668259,
    -0.0024245455861091614,
    0.02963862195611,
    0.008483649231493473,
    -0.061828888952732086,
    -0.015836291015148163,
    -0.008162718266248703,
    -0.07189621031284332,
    -0.05311347544193268,
    -0.024433603510260582,
    0.005439237225800753,
    -0.06279358267784119,
    0.059524185955524445,
    -0.055293384939432144,
    0.09934965521097183,
    0.022775989025831223,
    -0.00518037099391222,
    -0.012279825285077095,
    -0.004695994779467583,
    -0.014189525507390499,
    -0.06768472492694855,
    0.030878925696015358,
    -0.01113056018948555,
    -0.005931566469371319,
    0.004077310673892498,
    -0.02017950639128685,
    -0.030500242486596107,
    -0.07754264026880264,
    -0.03720641881227493,
    -0.00466635636985302,
    -0.015217550098896027,
    -0.12773872911930084,
    0.014431793242692947,
    -0.051716819405555725,
    0.04573563486337662,
    0.11245519667863846,
    -0.0032074572518467903,
    -0.08093614131212234,
    -0.05615953728556633,
    0.012539174407720566,
    -0.07111254334449768,
    0.05070049688220024,
    -0.05504234507679939,
    0.00511324405670166,
    -0.03650224953889847,
    0.04619612172245979,
    -0.023029997944831848,
    0.025399738922715187,
    -0.012384300120174885,
    0.10513625293970108,
    -0.04322517663240433,
    -0.06271438300609589,
    0.045027296990156174,
    -0.10184485465288162,
    0.069987952709198,
    -0.01566389575600624,
    0.009481352753937244,
    -0.008278654888272285,
    0.0007062464719638228,
    0.0058417534455657005,
    -0.10502444207668304,
    0.010078842751681805,
    -0.01440927479416132,
    0.04234137758612633,
    0.01743057742714882,
    -0.04385102540254593,
    -0.04892571270465851,
    0.016863172873854637,
    -0.08412675559520721,
    0.07802166789770126,
    -0.05469834432005882,
    0.01484337355941534,
    -0.024107391014695168,
    -0.022726217284798622,
    -0.06433402001857758,
    -0.009462094865739346,
    0.014110386371612549,
    -0.039795417338609695,
    0.054535023868083954,
    0.004836786072701216,
    0.05964379757642746,
    0.02670375257730484,
    -0.00805854331701994,
    0.03044949099421501,
    -0.012435107491910458,
    -0.07644370943307877,
    0.0058760615065693855,
    0.008899015374481678,
    0.04113386571407318,
    0.025588251650333405,
    -0.020795514807105064,
    -0.059606701135635376,
    0.09264028817415237,
    0.001226621214300394,
    -0.10091589391231537,
    -0.04891446232795715,
    -0.01766531728208065,
    -0.045667536556720734,
    -0.026182308793067932,
    0.07383950054645538,
    0.17658664286136627,
    0.015623531304299831,
    0.022172631695866585,
    -0.05443525314331055,
    -0.001319519360549748,
    -0.012185224331915379,
    0.06650327891111374,
    0.004468299448490143,
    7.907211808671697e-33,
    0.003857124364003539,
    0.06517161428928375,
    -0.011533321812748909,
    0.021658513695001602,
    -0.05025614798069,
    0.014209647662937641,
    0.05237147584557533,
    0.005388532765209675,
    -0.07407362759113312,
    0.06506922096014023,
    -0.09941902756690979,
    0.06734522432088852,
    -0.06303393840789795,
    -0.04843354597687721,
    0.034762896597385406,
    -0.046424951404333115,
    0.03557579591870308,
    0.05842730030417442,
    0.033921536058187485,
    0.009965098462998867,
    0.07490295171737671,
    0.014116616919636726,
    -0.017106201499700546,
    -0.021566983312368393,
    0.09213550388813019,
    0.01761404052376747,
    -0.026906296610832214,
    -0.05806068703532219,
    0.047117795795202255,
    0.012137196958065033,
    0.031130587682127953,
    0.020991524681448936,
    -0.048093076795339584,
    0.03668437898159027,
    0.03350362554192543,
    0.006987527944147587,
    -0.031959597021341324,
    -0.03768455237150192,
    -0.039134856313467026,
    -0.0681542456150055,
    -0.06949366629123688,
    0.04414314404129982,
    -0.10689207166433334,
    -0.040382277220487595,
    -0.021508561447262764,
    -0.010248436592519283,
    -0.048880454152822495,
    0.026456966996192932,
    0.12433648854494095,
    0.025266511365771294,
    0.010838706977665424,
    0.029240116477012634,
    -0.029891466721892357,
    -0.0011248221853747964,
    0.0697828158736229,
    0.061997245997190475,
    0.03780949488282204,
    0.017616361379623413,
    0.09392257779836655,
    0.048243407160043716,
    0.01301724836230278,
    -0.08696997910737991,
    -0.01968606933951378,
    -0.044807106256484985,
    0.12821784615516663,
    -0.0046744393184781075,
    0.02104804664850235,
    0.007069866172969341,
    0.0844612643122673,
    0.07813544571399689,
    0.022251814603805542,
    -0.022336645051836967,
    0.048053476959466934,
    -0.008573327213525772,
    0.10514461994171143,
    -0.06276976317167282,
    -0.01885063201189041,
    -0.021461619064211845,
    -0.03179877996444702,
    -0.036996420472860336,
    -0.03126067668199539,
    -0.0755259245634079,
    -0.0523589551448822,
    0.03094409964978695,
    0.06438560038805008,
    -0.0806761085987091,
    0.0011603707680478692,
    -0.09304966777563095,
    -0.030934864655137062,
    -0.10919095575809479,
    0.08893632888793945,
    0.025427307933568954,
    -0.05022146552801132,
    -0.05258587747812271,
    -0.04404117166996002,
    -6.01640232940917e-33,
    0.03981797769665718,
    -0.03566531836986542,
    -0.06042223796248436,
    0.056839149445295334,
    -0.033945441246032715,
    -0.07536230236291885,
    0.026619236916303635,
    -0.07076583057641983,
    0.035688187927007675,
    0.00566604221239686,
    0.0422772541642189,
    -0.011474859900772572,
    0.009249300695955753,
    -0.05033166706562042,
    -0.05176098272204399,
    0.08946271985769272,
    0.01481481734663248,
    -0.040808212012052536,
    -0.02498571202158928,
    0.046517811715602875,
    -0.038245756179094315,
    0.11783450841903687,
    -0.0931861624121666,
    0.046801965683698654,
    -0.04335133358836174,
    0.05787377431988716,
    0.035436440259218216,
    0.06492242217063904,
    0.0022321068681776524,
    -0.010935782454907894,
    -0.0031088516116142273,
    0.046212200075387955,
    -0.09036223590373993,
    0.010146050713956356,
    -0.06850331276655197,
    -0.03477819636464119,
    0.020958181470632553,
    0.08364860713481903,
    -0.019175957888364792,
    0.03676706179976463,
    0.03310089930891991,
    0.08706758916378021,
    0.0014254450798034668,
    0.029096167534589767,
    -0.02585587464272976,
    -0.03455307334661484,
    -0.036394283175468445,
    0.058568451553583145,
    -0.041100576519966125,
    -0.018780270591378212,
    0.0033528634812682867,
    -0.03523911535739899,
    -0.025106629356741905,
    -0.06200835481286049,
    -0.009465977549552917,
    -0.011025983840227127,
    0.03851337358355522,
    0.019803980365395546,
    -0.11352362483739853,
    -0.020653564482927322,
    0.05771646276116371,
    0.06449876725673676,
    0.048652101308107376,
    0.014288821257650852,
    0.029807880520820618,
    -0.027797117829322815,
    -0.05614492669701576,
    -0.013290360569953918,
    -0.015648776665329933,
    -0.00016081062494777143,
    -0.10390980541706085,
    -0.016348132863640785,
    0.05576968193054199,
    -0.019352024421095848,
    0.006659946870058775,
    0.01678714156150818,
    0.09127413481473923,
    0.000409342028433457,
    0.05066720396280289,
    0.005899197421967983,
    -0.1324106752872467,
    0.04841276630759239,
    0.01651793345808983,
    0.02576158009469509,
    -0.03860465809702873,
    0.04938725382089615,
    -0.0031798428390175104,
    0.12078645080327988,
    0.03889813274145126,
    0.06530545651912689,
    -0.023670827969908714,
    -0.061842840164899826,
    -0.035799890756607056,
    0.03534229099750519,
    0.005267222411930561,
    -5.908574962631974e-8,
    -0.10542958974838257,
    0.06283820420503616,
    -0.10079319030046463,
    0.057497378438711166,
    0.10075290501117706,
    0.07785598188638687,
    0.027246640995144844,
    0.07863869518041611,
    -0.013267550617456436,
    -0.014715297147631645,
    0.029125437140464783,
    0.06654805690050125,
    -0.036175280809402466,
    -0.006069066468626261,
    0.05319680646061897,
    -0.024181438609957695,
    0.0407242588698864,
    -0.033264923840761185,
    -0.09436982125043869,
    -0.00646210927516222,
    -0.0499696210026741,
    0.06352870166301727,
    -0.0026180041022598743,
    0.011749260127544403,
    0.05567530170083046,
    0.04449895769357681,
    0.004044005647301674,
    -0.005839932709932327,
    0.06768088042736053,
    0.04241330921649933,
    0.00043369230115786195,
    0.007826319895684719,
    -0.01841302402317524,
    -0.08618012070655823,
    0.049182675778865814,
    0.06815148890018463,
    0.01881379261612892,
    0.007030225824564695,
    -0.08135022968053818,
    -0.018068525940179825,
    0.07673138380050659,
    0.06871308386325836,
    0.007300771772861481,
    -0.0007539310026913881,
    -0.004381990991532803,
    -0.008144042454659939,
    -0.0591217502951622,
    -0.008518592454493046,
    0.05806077644228935,
    -0.05352148041129112,
    -0.038161907345056534,
    -0.04676317051053047,
    -0.10954327136278152,
    0.09972766786813736,
    0.036848049610853195,
    0.04608282446861267,
    0.012162325903773308,
    -0.009539365768432617,
    0.07122144848108292,
    -0.03029553033411503,
    0.10273034870624542,
    -0.05952770635485649,
    -0.0012728761648759246,
    0.021865788847208023
  ],
  "text": "NIP-50 comprehensive search implementation COMPLETE for nosflare.\n\n**Implementation:**\n- 7 FTS5 virtual tables (users, videos, notes, lists, articles, communities, hashtags)\n- Migration 7 creates all tables\n- Automatic indexing in relay-worker.ts storeEvent()\n- Query parser with structured filters (type:, author:, #hashtag, min_likes:, etc.)\n- BM25 relevance + engagement boosting for videos\n- Hashtag trending with autocomplete\n- Unified multi-type search\n- 26 integration tests (100% passing)\n\n**Key Files:**\n- src/migrations.ts:149-506 - FTS5 table creation\n- src/types.ts:43-90 - Search types and interfaces\n- src/search-parser.ts - Query parsing and FTS query building\n- src/search.ts - All search and indexing functions (900+ lines)\n- src/durable-object.ts:320-412 - Search query routing\n- src/relay-worker.ts:422-434 - Event indexing hooks\n- src/config.ts:30-37 - Relay info NIP-50 advertisement\n- docs/SEARCH.md - Comprehensive documentation\n- test-search-integration.cjs - Integration test suite\n\n**Pattern Used:**\nDELETE+INSERT for FTS5 indexing (no UPSERT support)\nParallel Promise.all() for multi-type search\nLogarithmic engagement boosting\nPrefix matching with wildcard (term*)\n\n**Deployment:**\nMigration 7 runs automatically on first startup\nNo additional configuration needed\nWorks with existing D1 session API setup",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1762905680950,
  "path": "/Users/rabble/code/vine_fun/nosflare/.private-journal/2025-11-12/00-01-20-950671.md"
}